(this.webpackJsonpbrainflixheroku=this.webpackJsonpbrainflixheroku||[]).push([[0],{10:function(e,a,t){e.exports=t.p+"static/media/face.a9fc47f5.png"},16:function(e,a,t){e.exports=t.p+"static/media/Upload-video-preview.c814c81c.jpg"},31:function(e,a,t){e.exports=t.p+"static/media/Logo-brainflix.9049851c.svg"},33:function(e,a,t){e.exports=t.p+"static/media/Icon-views.2ceaa231.svg"},34:function(e,a,t){e.exports=t.p+"static/media/Icon-likes.4895cd47.svg"},35:function(e,a,t){e.exports=t.p+"static/media/Icon-fullscreen.482a9149.svg"},36:function(e,a,t){e.exports=t.p+"static/media/Icon-volume.a1be2da0.svg"},37:function(e,a,t){e.exports=t.p+"static/media/Icon-play.edecac9e.svg"},40:function(e,a,t){e.exports=t(70)},69:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(27),m=t.n(o),c=t(28),l=t(29),s=t(38),r=t(30),d=t(39),u=t(31),v=t.n(u),p=t(10),E=t.n(p),_=t(8);function g(){return i.a.createElement("header",{className:"header"},i.a.createElement("div",{className:"header__logo"},i.a.createElement(_.b,{to:"/"},i.a.createElement("img",{src:v.a,alt:"BrainFlix-logo"}))),i.a.createElement("form",{className:"header__form"},i.a.createElement("input",{className:"header__search",type:"text",placeholder:"Search"}),i.a.createElement("div",{className:"header__bimg"},i.a.createElement(_.b,{to:"/upload",className:"header__upload-link"},i.a.createElement("button",{className:"header__bimg-button"}," + UPLOAD")),i.a.createElement("div",{className:"header__bimg-img"},i.a.createElement("img",{src:E.a,alt:"user-face"})))))}var N=t(12),f=t.n(N);var h=function(e){var a=(new Date).getTime()-e,t=a/1e3,n=a/6e4,i=a/36e5,o=a/864e5,m=a/26298e5,c=a/315576e5,l="";if(c>=1){var s=m%12;l=c<2?Math.floor(c)+" yr ":Math.floor(c)+" yrs ",0===Number(s.toFixed(0))?l+=" ago":l+=s<2?s.toFixed(0)+" mth ago":s.toFixed(0)+" mths ago"}else if(m>1&&m<12){l=Number(m.toFixed(0))<2?m.toFixed(0)+" mth ":m.toFixed(0)+" mths ";var r=o%31;Number(r.toFixed(0))<2?l+=r.toFixed(0)+" day ago":l+=r.toFixed(0)+" days ago"}else if(o>1&&o<31){l=o<2?o.toFixed(0)+" day ":o.toFixed(0)+" days ";var d=i%24;l+=d<2?d.toFixed(0)+" hr ago":d.toFixed(0)+" hrs ago"}else if(i>1&&i<24){l=i<2?i.toFixed(0)+" hr ":i.toFixed(0)+" hrs ";var u=n%60;l+=u<2?Math.floor(u)+" min ago":u.toFixed(0)+" mins ago"}else if(n>0&&n<1){var v=t%1e3;l=t<1?Math.ceil(v)+" second ago":v.toFixed(0)+" seconds ago"}else l=n>0&&n<1.99?Math.floor(n)+" min ago":n.toFixed(0)+" mins ago";return l},V=t(7),b=t.n(V);function I(e){var a=function(a){b.a.delete("/comments/".concat(e.mainVideoId,"/").concat(a.target.id)).then((function(a){e.getMainVideo()}))},t=e.comments.slice(0).reverse().map((function(e){return i.a.createElement("div",{key:f()(),className:"comment"},i.a.createElement("div",{className:"comment__left"},i.a.createElement("img",{src:E.a,alt:"user-face"})),i.a.createElement("div",{className:"comment__right"},i.a.createElement("div",{className:"comment__right-top"},i.a.createElement("p",{className:"comment__right-top-name"},e.name),i.a.createElement("p",{className:"comment__right-top-date"},h(e.timestamp))),i.a.createElement("div",{className:"comment__paragraph"},i.a.createElement("p",{className:"comment__paragraph-text"},e.comment),i.a.createElement("button",{onClick:a,id:e.id,className:"comment__delete-button"},"DELETE"))))}));return i.a.createElement(i.a.Fragment,null,t)}function x(e){return i.a.createElement("div",{className:"conv"},i.a.createElement("h1",{className:"conv__title"},"".concat(e.commentCount," Comments")),i.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=a.target.commentInput.value;""!==t?(b.a.post("/comments/".concat(e.mainVideoId),{comment:t}).then((function(a){e.getMainVideo()})),a.target.reset()):window.alert("Please type comments")},id:"comments",className:"conv__join",name:"comment-form"},i.a.createElement("div",{className:"conv__join-left"},i.a.createElement("img",{src:E.a,alt:"user-face"})),i.a.createElement("div",{className:"conv__join-right"},i.a.createElement("p",{className:"conv__join-right-title"},"JOIN THE CONVERSATION"),i.a.createElement("input",{className:"conv__join-right-input",name:"commentInput",placeholder:"your comments"}),i.a.createElement("button",{className:"conv__join-right-button"},"COMMENT"))))}function k(e){return i.a.createElement("div",{className:"video"},i.a.createElement("video",{className:"video__playing",poster:e.mainVideo.image}))}var M=t(33),y=t.n(M),w=t(34),F=t.n(w);function L(e){return i.a.createElement("div",{className:"video__info"},i.a.createElement("h1",{className:"video__title"},e.mainVideo.title),i.a.createElement("div",{className:"video__details"},i.a.createElement("div",{className:"video__channel-timestamp"},i.a.createElement("p",{className:"video__channel"},e.mainVideo.channel),i.a.createElement("p",{className:"video__timestamp"},h(e.mainVideo.timestamp))),i.a.createElement("div",{className:"video__views-likes"},i.a.createElement("p",{className:"video__views"},i.a.createElement("img",{src:y.a,alt:"view-icon"}),e.mainVideo.views),i.a.createElement("p",{className:"video__likes"},i.a.createElement("img",{onClick:e.likesHandler,src:F.a,alt:"like-icon"}),e.mainVideo.likes))),i.a.createElement("p",{className:"video__description"},e.mainVideo.description))}function C(e){var a=e.videoList.map((function(a){return a.id===e.mainVideoId||i.a.createElement("div",{key:a.id,className:"video-list__single"},i.a.createElement(_.b,{to:"/".concat(a.id),key:a.id,className:"video-list__single-img"},i.a.createElement("img",{src:a.image,alt:a.title})),i.a.createElement("div",{className:"video-list__single-info"},i.a.createElement("p",{className:"video-list__single-info-title"},a.title),i.a.createElement("p",{className:"video-list__single-info-channel"},a.channel)))}));return i.a.createElement("div",{className:"video-list"},i.a.createElement("h1",{className:"video-list__heading"},"NEXT VIDEO"),a)}var D=t(35),O=t.n(D),j=t(36),S=t.n(j),T=t(37),H=t.n(T);function A(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"control"},i.a.createElement("div",{className:"control__playPause"},i.a.createElement("button",{className:"control__playPause-button",alt:""},i.a.createElement("img",{src:H.a,alt:""}))),i.a.createElement("div",{className:"control__progressBar"},i.a.createElement("span",{className:"control__progress"}),i.a.createElement("span",{className:"control__time"},"0:00/",e.mainVideo.duration)),i.a.createElement("div",{className:"control__volumeScreen"},i.a.createElement("button",{className:"control__volume"},i.a.createElement("img",{src:O.a,alt:""})),i.a.createElement("button",{className:"control__fullScreen"},i.a.createElement("img",{src:S.a,alt:""})))))}var P=t(16),U=t.n(P);function B(e){return i.a.createElement("div",{className:"upload"},i.a.createElement("div",{className:"upload__header"},i.a.createElement("h1",null,"Upload Video")),i.a.createElement("div",{className:"upload__contents"},i.a.createElement("div",{className:"upload__thumbnail"},i.a.createElement("p",{className:"upload__thumbnail-title"},"VIDEO THUMBNAIL"),i.a.createElement("div",{className:"upload__thumbnail-image"},i.a.createElement("img",{src:U.a,alt:"upload"}))),i.a.createElement("div",{className:"upload__video"},i.a.createElement("form",{id:f()(),onSubmit:function(a){if(a.preventDefault(),"cancel"===a.target.name)a.target.reset();else{var t=a.target.videoTitle.value,n=a.target.videoDesc.value;""!==t&&""!==n?(b.a.post("/videos/",{title:t,description:n,image:U.a}).then((function(a){e.getVideoList(),e.getMainVideo()})),a.target.reset(),window.alert("video successfully uploaded")):window.alert("Please provide both title and description of video")}}},i.a.createElement("p",{className:"upload__video-title"},"TITLE YOUR VIDEO"),i.a.createElement("input",{className:"upload__video-title-input",name:"videoTitle",type:"/text",placeholder:"Add a title to your video"}),i.a.createElement("p",{className:"upload__video-desc-title"},"ADD A VIDEO DESCRIPTION"),i.a.createElement("textarea",{className:"upload__video-desc-input",name:"videoDesc",type:"/text",placeholder:"Add a description of your video"}),i.a.createElement("div",{className:"upload__buttons"},i.a.createElement("button",{className:"upload__buttons-publish",name:"publish"},"PUBLISH"),i.a.createElement("button",{className:"upload__buttons-cancel",name:"cancel"},"CANCEL"))))))}t(69);var J=t(1),R=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(r.a)(a)).call.apply(e,[this].concat(i)))).state={videoList:[],mainVideo:{},commentCount:0,comments:[],mainVideoId:"1af0jruup5gu"},t.getVideoList=function(){b.a.get("/videos/").then((function(e){t.setState({videoList:e.data})}))},t.getMainVideo=function(){b.a.get("/videos/".concat(t.state.mainVideoId)).then((function(e){var a=e.data[0];t.setState({mainVideo:a}),t.setState({comments:a.comments}),t.setState({commentCount:a.comments.length})}))},t.likesHandler=function(){b.a.put("/videos/".concat(t.state.mainVideoId,"/likes")).then((function(e){t.getMainVideo()}))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getVideoList(),this.getMainVideo()}},{key:"componentDidUpdate",value:function(e,a){a.mainVideoId!==this.state.mainVideoId&&this.getMainVideo()}},{key:"render",value:function(){var e=this;return i.a.createElement(_.a,null,i.a.createElement(g,null),i.a.createElement(J.c,null,i.a.createElement(J.a,{path:"/upload",render:function(){return i.a.createElement("main",null,i.a.createElement(B,{getMainVideo:e.getMainVideo,getVideoList:e.getVideoList}))}}),i.a.createElement(J.a,{path:"/:id",render:function(a){return a.match.params.id!==e.state.mainVideoId&&e.setState({mainVideoId:a.match.params.id}),i.a.createElement("main",null,i.a.createElement("div",{className:"mainVideo-container"},i.a.createElement(k,{mainVideo:e.state.mainVideo}),i.a.createElement(A,{mainVideo:e.state.mainVideo})),i.a.createElement("div",{className:"desktop-view"},i.a.createElement("div",{className:"desktop-view__left"},i.a.createElement(L,{mainVideo:e.state.mainVideo,likesHandler:e.likesHandler}),i.a.createElement(x,{getMainVideo:e.getMainVideo,mainVideoId:e.state.mainVideoId,commentCount:e.state.commentCount}),i.a.createElement(I,{getMainVideo:e.getMainVideo,comments:e.state.comments,mainVideoId:e.state.mainVideoId,deleteHandler:e.getMainVideo})),i.a.createElement("div",{className:"desktop-view__right"},i.a.createElement(C,{videoList:e.state.videoList,mainVideoId:e.state.mainVideoId}))))}}),i.a.createElement(J.a,{path:"/",exact:!0,render:function(){return"1af0jruup5gu"!==e.state.mainVideoId&&e.setState({mainVideoId:"1af0jruup5gu"}),i.a.createElement("main",null,i.a.createElement("div",{className:"mainVideo-container"},i.a.createElement(k,{mainVideo:e.state.mainVideo}),i.a.createElement(A,{mainVideo:e.state.mainVideo})),i.a.createElement("div",{className:"desktop-view"},i.a.createElement("div",{className:"desktop-view__left"},i.a.createElement(L,{mainVideo:e.state.mainVideo,likesHandler:e.likesHandler}),i.a.createElement(x,{getMainVideo:e.getMainVideo,mainVideoId:e.state.mainVideoId,commentCount:e.state.commentCount}),i.a.createElement(I,{getMainVideo:e.getMainVideo,comments:e.state.comments,mainVideoId:e.state.mainVideoId,deleteHandler:e.getMainVideo})),i.a.createElement("div",{className:"desktop-view__right"},i.a.createElement(C,{videoList:e.state.videoList,mainVideoId:e.state.mainVideoId}))))}})))}}]),a}(n.Component);m.a.render(i.a.createElement(R,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.54106896.chunk.js.map